{
  "Applications": {
    "alfresco-admin": {
      "Application": {
        "Description": "Wordpress Site",
        "Name": "Wordpress Site"
      },
      "LookupConfig": {
        "PathRegex": "/wordpress.*"
      },
      "LowCodeUnit": {
        "SPARoot": "https://{{RESOURCE_NAME}}.azurewebsites.net/",
        "Type": "SPA"
      },
      "Processor": {
        "InboundPath": "/wordpress",
        "Type": "Proxy"
      }
    },
    "gatsby-starter": {
      "Application": {
        "Description": "A starting point for a headless wordpress Gatsby",
        "Name": "Headless Wordpress Gatsby Starter - Forked Recipe"
      },
      "LookupConfig": {
        "PathRegex": "/.*"
      },
      "LowCodeUnit": {
        "SourceControlLookup": "fork|github://fathym-it/gatsby-headless-wordpress-starter",
        "Build": "latest",
        "Path": "lcu-github-artifacts-release.yml",
        "Type": "GitHub"
      },
      "Processor": {
        "BaseHref": "/",
        "DefaultFile": "index.html",
        "Type": "DFS"
      }
    }
  },
  "Environments": {
    "$#.PrimaryEnvironment": {
      "Clouds": {
        "{{AZURE_CLOUD_LOOKUP}}": {
          "ResourceGroups": {
            "{{RESOURCE_NAME}}": {
              "Name": "{{RESOURCE_NAME}}",
              "Description": "{{RESOURCE_NAME}}",
              "Details": {
                "Type": "Format",
                "Template": {
                  "Parameters": "https://raw.githubusercontent.com/lowcodeunit/infrastructure/master/templates/fathym/wordpress-on-app-service/parameters.json",
                  "Content": "https://raw.githubusercontent.com/lowcodeunit/infrastructure/master/templates/fathym/wordpress-on-app-service/template.json"
                },
                "Data": {
                  "RESOURCE_NAME": "{{RESOURCE_NAME}}",
                  "$Username": "{{$Username}}",
                  "DB_SERVER_USERNAME": "fathym",
                  "DB_SERVER_PASSWORD": "{{DB_SERVER_PASSWORD}}",
                  "WORDPRESS_PASSWORD": "{{WORDPRESS_PASSWORD}}"
                },
                "Outputs": {}
              }
            }
          }
        }
      },
      "Artifacts": {
        "gatsby-build-release": {
          "Name": "Gatsby Build/Release",
          "Output": "./public",
          "Type": "GitHub",
          "BuildCommand": "npm run build",
          "InstallCommand": "npm ci",
          "NPMRegistry": "https://registry.npmjs.org/"
        }
      },
      "DevOpsActions": {
        "github-artifacts-release-gatsby": {
          "Name": "GitHub Artifacts - Release - Gatsby",
          "Path": "lcu-github-artifacts-release.yml",
          "ArtifactLookups": ["gatsby-build-release"],
          "Templates": [
            "https://raw.githubusercontent.com/lowcodeunit/infrastructure/master/github/actions/artifacts/_header.hbs.yml",
            "https://raw.githubusercontent.com/lowcodeunit/infrastructure/master/github/actions/artifacts/release-flow.yml"
          ]
        }
      },
      "Sources": {
        "fork|github://fathym-it/gatsby-headless-wordpress-starter": {
          "DevOpsActionTriggerLookups": ["github-artifacts-release-gatsby"],
          "Branches": ["main"],
          "MainBranch": "main",
          "Organization": "fathym-it",
          "Repository": "gatsby-headless-wordpress-starter",
          "Name": "github://fathym-it/gatsby-headless-wordpress-starter",
          "Type": "GitHub"
        }
      }
    }
  }
}
